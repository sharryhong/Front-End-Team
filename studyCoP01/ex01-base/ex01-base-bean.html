<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
    <title>count example</title>
    <style>
        body{margin:0;padding:0}
        label{display:block}
        textarea {float:left;width:200px;height:200px;}
        .hide{display:none}
        .show{display:block}
        .txt_desc{color:red}
        .desc_type1 em{color:red;font-weight:bold}
    </style>
</head>
<body>
    <h1>연습문제</h1>
    <div class="box_example" style="overflow:hidden;border:1px solid red">
        <h2>입력한 문자열의 길이를 알려줌</h2>
        <label for="inputText">글입력하기</label>
        <p id="descGuide" class="desc_type1"><em></em>&nbsp;글자 까지만 쓸수 있어요.<em></em>&nbsp;글자이상쓰면 안돼욤.</p>
        <textarea type="text" id="textArea"></textarea>
        <dl class="num">
            <dt>현재글</dt>
            <dd id="currentCount">0</dd>
        </dl>
        <dl class="num" >
            <dt>최대글</dt>
            <dd id="maxCount">0</dd>
        </dl>
        <p class="txt_desc">글을 더이상 쓰지 못합니다.</p>
    </div>
    <div class="box_example" style="border:1px solid blue">
        <h2>섭씨를 입력받아 화씨로 바꾸는것</h2>
        <div style="overflow:hidden;width:600px;margin:0 auto">
            <dl style="float:left">
                <dt><label for="celsiusInput">섭씨온도(℃)</label></dt>
                <dd><input type="text" id="celsiusInput"></dd>
            </dl>
            <dl style="float:right">
                <dt><label for="fahrenheitInput">화씨온도(℉)</label></dt>
                <dd><input type="text" id="fahrenheitInput"></dd>
            </dl>
            <button class="button_change" style="overflow:hidden;height:38px">섭씨온도(℃) 에서 화씨온도(℉) 로 바꾸기</button>
        </div>
        <p>F = 9/5 C + 32</p>
        <p class="txt_desc">숫자를 넣어야 계산을해주지</p>
    </div>
    <script>
        'use strict';
        var textArea = document.getElementById("textArea");
        var maxCount = document.getElementById("maxCount");
        var descGuide = document.getElementById("descGuide");
        var descGuideNum = descGuide.getElementsByTagName("em");
        var txtDesc = document.querySelectorAll(".txt_desc");
        var celsisusInput = document.getElementById("celsiusInput");
        var fahrenheitInput = document.getElementById("fahrenheitInput");
        var buttonChange = document.querySelector(".button_change");
        var boxExample = document.querySelectorAll(".box_example");
        var currentCountNum;
        var maxCount;
        var maxCountNum = Number(10); // 최대값
        maxCount.innerHTML = maxCountNum;
        textArea.setAttribute('maxlength',maxCountNum)

        currentCount.innerHTML = 0; //  현재값

        for(var i = 0; i<txtDesc.length; i++){
            txtDesc[i].classList.add('hide');// 초기셋팅
        }
        for(var i=0 ; i<descGuideNum.length ; i++){
            descGuideNum[i].innerHTML = maxCountNum;
        }
        //console.log(descGuideNum);
        function checkLength(e){
            // console.log(e);
            // console.log(e.path[1]);
            // console.log(txtDesc);
            //console.log(boxExample);
            var n = 0;
            currentCount.innerHTML = textArea.value.length;
            currentCountNum = Number(currentCount.innerHTML);
            console.log(currentCountNum);
            console.log(maxCountNum);
            if(currentCountNum === maxCountNum){
                txtDesc[n].classList.remove('hide');
                txtDesc[n].classList.add('show');
            }else if(currentCountNum < maxCountNum && txtDesc[n].classList.contains('show')){
                txtDesc[n].classList.add('hide');
                txtDesc[n].classList.remove('show');
            }
        }

        function transUnit(){
            var t = celsisusInput.value;
            var n = 1;
            console.log(t.length);
            console.log(txtDesc[n]);

            if(t.length == 0){
                // console.log(celsisusInput.value);
                txtDesc[n].classList.remove('hide');
                txtDesc[n].classList.add('show');
            }else if(txtDesc[n].classList.contains('show')){
                txtDesc[n].classList.remove('show');
                txtDesc[n].classList.add('hide');
            }
        }

        textArea.addEventListener('keyup',checkLength);

        buttonChange.addEventListener('click',transUnit);


    </script>
</body>
</html>
